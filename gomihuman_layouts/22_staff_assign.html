<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚¿ãƒƒãƒ•ãƒ»è³‡ææ‰‹é… - ã‚´ãƒŸäººé–“ãƒ¬ãƒ³ã‚¿ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f5f5f5;
        }
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            background-color: #e74c3c;
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 24px;
            font-weight: bold;
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .back-btn {
            background-color: #c0392b;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        .back-btn:hover {
            background-color: #a93226;
        }
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .page-title {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .page-title h1 {
            color: #2c3e50;
            font-size: 24px;
        }
        /* é‹å–¶è¨ˆç”»æƒ…å ± */
        .plan-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        .info-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .info-label {
            font-size: 12px;
            color: #666;
            font-weight: bold;
        }
        .info-value {
            font-size: 16px;
            color: #2c3e50;
        }
        /* ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .tab-menu {
            background: white;
            padding: 0;
            border-radius: 10px 10px 0 0;
            display: flex;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tab-button {
            flex: 1;
            padding: 15px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        .tab-button.active {
            background-color: #f8f9fa;
            border-bottom-color: #e74c3c;
            color: #e74c3c;
            font-weight: bold;
        }
        .tab-button:hover {
            background-color: #f8f9fa;
        }
        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
        .content-area {
            background: white;
            padding: 20px;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        /* ã‚¹ã‚¿ãƒƒãƒ•æ‰‹é…ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .staff-section {
            margin-bottom: 30px;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .section-title {
            font-size: 18px;
            color: #2c3e50;
            font-weight: bold;
        }
        .staff-requirement {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .requirement-text {
            font-size: 16px;
            color: #1976d2;
        }
        /* ã‚¹ã‚¿ãƒƒãƒ•ãƒªã‚¹ãƒˆ */
        .staff-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .staff-card {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }
        .staff-card:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .staff-card.selected {
            border-color: #27ae60;
            background-color: #d4edda;
        }
        .staff-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }
        .staff-name {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }
        .staff-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-available {
            background-color: #d4edda;
            color: #155724;
        }
        .status-busy {
            background-color: #f8d7da;
            color: #721c24;
        }
        .staff-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
            font-size: 14px;
            color: #666;
        }
        .staff-rating {
            color: #f39c12;
            font-weight: bold;
        }
        .assign-checkbox {
            width: 20px;
            height: 20px;
            margin-top: 10px;
        }
        /* è³‡ææ‰‹é…ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .material-table {
            width: 100%;
            border-collapse: collapse;
        }
        .material-table th,
        .material-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .material-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }
        .material-input {
            width: 80px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }
        .material-status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
        }
        .stock-ok {
            background-color: #d4edda;
            color: #155724;
        }
        .stock-low {
            background-color: #fff3cd;
            color: #856404;
        }
        .stock-out {
            background-color: #f8d7da;
            color: #721c24;
        }
        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .action-section {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 30px;
        }
        .action-group {
            display: flex;
            gap: 10px;
        }
        .save-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .save-btn:hover {
            background-color: #7f8c8d;
        }
        .confirm-btn {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .confirm-btn:hover {
            background-color: #229954;
        }
        /* è‡ªå‹•æ‰‹é…ãƒœã‚¿ãƒ³ */
        .auto-assign-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .auto-assign-btn:hover {
            background-color: #2980b9;
        }
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .staff-grid {
                grid-template-columns: 1fr;
            }
            .action-section {
                flex-direction: column;
            }
            .action-group {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <div class="header-content">
            <div class="logo">ğŸš¶ ã‚¹ã‚¿ãƒƒãƒ•ãƒ»è³‡ææ‰‹é…</div>
            <div class="user-info">
                <span>ç®¡ç†è€…: admin001</span>
                <a href="16_admin_dashboard.html" class="back-btn">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹</a>
            </div>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="container">
        <!-- ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ« -->
        <div class="page-title">
            <h1>ã‚¹ã‚¿ãƒƒãƒ•ãƒ»è³‡ææ‰‹é…</h1>
            <p>ã‚´ãƒŸäººé–“ã®é…ç½®ã¨å¿…è¦è³‡æã®æ‰‹é…ã‚’ç®¡ç†ã—ã¾ã™</p>
        </div>

        <!-- é‹å–¶è¨ˆç”»æƒ…å ± -->
        <div class="plan-info">
            <h2>é‹å–¶è¨ˆç”»æƒ…å ±</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">è¨ˆç”»ID</span>
                    <span class="info-value">PLN-2024-001</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ</span>
                    <span class="info-value">æ ªå¼ä¼šç¤¾ABCå•†äº‹</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å®Ÿæ–½æœŸé–“</span>
                    <span class="info-value">2024/03/01 - 2024/03/31</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å®Ÿæ–½ã‚¨ãƒªã‚¢</span>
                    <span class="info-value">æ¸‹è°·ã‚¨ãƒªã‚¢</span>
                </div>
            </div>
        </div>

        <!-- ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
        <div class="tab-menu">
            <button class="tab-button active" onclick="switchTab('staff')">ã‚¹ã‚¿ãƒƒãƒ•æ‰‹é…</button>
            <button class="tab-button" onclick="switchTab('material')">è³‡ææ‰‹é…</button>
        </div>

        <!-- ã‚¹ã‚¿ãƒƒãƒ•æ‰‹é…ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div id="staff-content" class="content-area">
            <div class="staff-section">
                <div class="section-header">
                    <h3 class="section-title">ã‚¹ã‚¿ãƒƒãƒ•å‰²å½“</h3>
                    <button class="auto-assign-btn" onclick="autoAssign()">è‡ªå‹•å‰²å½“</button>
                </div>

                <div class="staff-requirement">
                    <div class="requirement-text">
                        å¿…è¦äººæ•°: <strong>5å</strong> / å‰²å½“æ¸ˆã¿: <strong id="assigned-count">0å</strong>
                    </div>
                </div>

                <div class="staff-grid">
                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰1 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">å±±ç”°å¤ªéƒ</div>
                                <span class="staff-status status-available">å¯¾å¿œå¯èƒ½</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()">
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S001</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ¸‹è°·ãƒ»æ–°å®¿</div>
                            <div>çµŒé¨“å¹´æ•°: 3å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.8</div>
                        </div>
                    </div>

                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰2 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">ä½è—¤èŠ±å­</div>
                                <span class="staff-status status-available">å¯¾å¿œå¯èƒ½</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()">
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S002</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ¸‹è°·ãƒ»æ± è¢‹</div>
                            <div>çµŒé¨“å¹´æ•°: 2å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.5</div>
                        </div>
                    </div>

                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰3 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">éˆ´æœ¨ä¸€éƒ</div>
                                <span class="staff-status status-available">å¯¾å¿œå¯èƒ½</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()">
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S003</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ¸‹è°·ãƒ»å“å·</div>
                            <div>çµŒé¨“å¹´æ•°: 5å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.9</div>
                        </div>
                    </div>

                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰4 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">é«˜æ©‹ç¾å’²</div>
                                <span class="staff-status status-busy">åˆ¥æ¡ˆä»¶å¯¾å¿œä¸­</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()" disabled>
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S004</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ–°å®¿ãƒ»æ± è¢‹</div>
                            <div>çµŒé¨“å¹´æ•°: 1å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.3</div>
                        </div>
                    </div>

                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰5 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">ç”°ä¸­å¥å¤ª</div>
                                <span class="staff-status status-available">å¯¾å¿œå¯èƒ½</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()">
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S005</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ¸‹è°·ãƒ»æµæ¯”å¯¿</div>
                            <div>çµŒé¨“å¹´æ•°: 4å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.7</div>
                        </div>
                    </div>

                    <!-- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰6 -->
                    <div class="staff-card" onclick="toggleStaff(this)">
                        <div class="staff-header">
                            <div>
                                <div class="staff-name">ä¸­æ‘çœŸç†</div>
                                <span class="staff-status status-available">å¯¾å¿œå¯èƒ½</span>
                            </div>
                            <input type="checkbox" class="assign-checkbox" onclick="event.stopPropagation()">
                        </div>
                        <div class="staff-info">
                            <div>ã‚¹ã‚¿ãƒƒãƒ•ID: S006</div>
                            <div>å‹¤å‹™å¯èƒ½ã‚¨ãƒªã‚¢: æ¸‹è°·ãƒ»åŸå®¿</div>
                            <div>çµŒé¨“å¹´æ•°: 2å¹´</div>
                            <div class="staff-rating">è©•ä¾¡: â­4.6</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- è³‡ææ‰‹é…ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆéè¡¨ç¤ºï¼‰ -->
        <div id="material-content" class="content-area" style="display: none;">
            <div class="section-header">
                <h3 class="section-title">å¿…è¦è³‡æãƒªã‚¹ãƒˆ</h3>
            </div>

            <table class="material-table">
                <thead>
                    <tr>
                        <th>è³‡æå</th>
                        <th>å˜ä½</th>
                        <th>å¿…è¦æ•°</th>
                        <th>åœ¨åº«çŠ¶æ³</th>
                        <th>æ‰‹é…æ•°</th>
                        <th>å‚™è€ƒ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>æ¸…æƒç”¨ã‚´ãƒŸè¢‹ï¼ˆ45Lï¼‰</td>
                        <td>æš</td>
                        <td>500</td>
                        <td><span class="material-status stock-ok">åœ¨åº«ã‚ã‚Š</span></td>
                        <td><input type="number" class="material-input" value="500"></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>è»æ‰‹</td>
                        <td>åŒ</td>
                        <td>10</td>
                        <td><span class="material-status stock-ok">åœ¨åº«ã‚ã‚Š</span></td>
                        <td><input type="number" class="material-input" value="10"></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>æ¸…æƒç”¨ãƒˆãƒ³ã‚°</td>
                        <td>æœ¬</td>
                        <td>5</td>
                        <td><span class="material-status stock-low">åœ¨åº«å°‘</span></td>
                        <td><input type="number" class="material-input" value="5"></td>
                        <td>è¿½åŠ ç™ºæ³¨æ¨å¥¨</td>
                    </tr>
                    <tr>
                        <td>åºƒå‘Šç”¨ãƒ™ã‚¹ãƒˆ</td>
                        <td>ç€</td>
                        <td>5</td>
                        <td><span class="material-status stock-ok">åœ¨åº«ã‚ã‚Š</span></td>
                        <td><input type="number" class="material-input" value="5"></td>
                        <td>ABCå•†äº‹ãƒ­ã‚´å…¥ã‚Š</td>
                    </tr>
                    <tr>
                        <td>æ¶ˆæ¯’ç”¨ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«</td>
                        <td>æœ¬</td>
                        <td>3</td>
                        <td><span class="material-status stock-ok">åœ¨åº«ã‚ã‚Š</span></td>
                        <td><input type="number" class="material-input" value="3"></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>å¿œæ€¥å‡¦ç½®ã‚­ãƒƒãƒˆ</td>
                        <td>ã‚»ãƒƒãƒˆ</td>
                        <td>2</td>
                        <td><span class="material-status stock-out">åœ¨åº«ãªã—</span></td>
                        <td><input type="number" class="material-input" value="2"></td>
                        <td>è¦ç™ºæ³¨</td>
                    </tr>
                </tbody>
            </table>

            <div style="margin-top: 20px; padding: 15px; background-color: #fff3cd; border-radius: 5px;">
                <strong>âš ï¸ æ³¨æ„äº‹é …</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>åœ¨åº«ãŒå°‘ãªã„è³‡æã¯æ—©ã‚ã®ç™ºæ³¨ã‚’ãŠå‹§ã‚ã—ã¾ã™</li>
                    <li>åºƒå‘Šç”¨ãƒ™ã‚¹ãƒˆã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæŒ‡å®šã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„</li>
                    <li>æ¶ˆè€—å“ã¯äºˆå‚™ã‚’å«ã‚ã¦å¤šã‚ã«æ‰‹é…ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™</li>
                </ul>
            </div>
        </div>

        <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
        <div class="action-section">
            <div class="action-group">
                <button class="save-btn" onclick="saveDraft()">ä¸€æ™‚ä¿å­˜</button>
            </div>
            <button class="confirm-btn" onclick="confirmAssignment()">æ‰‹é…ã‚’ç¢ºå®š</button>
        </div>
    </div>

    <script>
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function switchTab(type) {
            const staffContent = document.getElementById('staff-content');
            const materialContent = document.getElementById('material-content');
            const tabButtons = document.querySelectorAll('.tab-button');
            
            if (type === 'staff') {
                staffContent.style.display = 'block';
                materialContent.style.display = 'none';
                tabButtons[0].classList.add('active');
                tabButtons[1].classList.remove('active');
            } else {
                staffContent.style.display = 'none';
                materialContent.style.display = 'block';
                tabButtons[0].classList.remove('active');
                tabButtons[1].classList.add('active');
            }
        }

        // ã‚¹ã‚¿ãƒƒãƒ•é¸æŠãƒˆã‚°ãƒ«
        function toggleStaff(card) {
            const checkbox = card.querySelector('.assign-checkbox');
            if (!checkbox.disabled) {
                checkbox.checked = !checkbox.checked;
                card.classList.toggle('selected', checkbox.checked);
                updateAssignedCount();
            }
        }

        // å‰²å½“äººæ•°æ›´æ–°
        function updateAssignedCount() {
            const checkedCount = document.querySelectorAll('.assign-checkbox:checked').length;
            document.getElementById('assigned-count').textContent = checkedCount + 'å';
        }

        // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        document.querySelectorAll('.assign-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function(e) {
                e.stopPropagation();
                this.closest('.staff-card').classList.toggle('selected', this.checked);
                updateAssignedCount();
            });
        });

        // è‡ªå‹•å‰²å½“
        function autoAssign() {
            const availableStaff = document.querySelectorAll('.staff-card:not(:has(.status-busy))');
            const requiredCount = 5;
            
            // å…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™
            document.querySelectorAll('.assign-checkbox').forEach(cb => {
                cb.checked = false;
                cb.closest('.staff-card').classList.remove('selected');
            });
            
            // è©•ä¾¡ã®é«˜ã„é †ã«å¿…è¦äººæ•°åˆ†é¸æŠ
            const sortedStaff = Array.from(availableStaff).sort((a, b) => {
                const ratingA = parseFloat(a.querySelector('.staff-rating').textContent.match(/[\d.]+/)[0]);
                const ratingB = parseFloat(b.querySelector('.staff-rating').textContent.match(/[\d.]+/)[0]);
                return ratingB - ratingA;
            });
            
            sortedStaff.slice(0, requiredCount).forEach(card => {
                const checkbox = card.querySelector('.assign-checkbox');
                checkbox.checked = true;
                card.classList.add('selected');
            });
            
            updateAssignedCount();
            alert('è©•ä¾¡ã®é«˜ã„ã‚¹ã‚¿ãƒƒãƒ•ã‹ã‚‰è‡ªå‹•ã§å‰²å½“ã—ã¾ã—ãŸ');
        }

        // ä¸€æ™‚ä¿å­˜
        function saveDraft() {
            alert('æ‰‹é…å†…å®¹ã‚’ä¸€æ™‚ä¿å­˜ã—ã¾ã—ãŸ');
        }

        // æ‰‹é…ç¢ºå®š
        function confirmAssignment() {
            const assignedCount = document.querySelectorAll('.assign-checkbox:checked').length;
            const requiredCount = 5;
            
            if (assignedCount < requiredCount) {
                if (!confirm(`å¿…è¦äººæ•°ã«${requiredCount - assignedCount}åä¸è¶³ã—ã¦ã„ã¾ã™ãŒã€ã“ã®ã¾ã¾ç¢ºå®šã—ã¾ã™ã‹ï¼Ÿ`)) {
                    return;
                }
            }
            
            if (confirm('ã‚¹ã‚¿ãƒƒãƒ•ã¨è³‡æã®æ‰‹é…ã‚’ç¢ºå®šã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                alert('æ‰‹é…ã‚’ç¢ºå®šã—ã¾ã—ãŸ');
                window.location.href = '16_admin_dashboard.html';
            }
        }
    </script>
</body>
</html>
